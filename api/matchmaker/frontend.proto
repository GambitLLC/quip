syntax = "proto3";
package quip.matchmaker;
option go_package="github.com/GambitLLC/quip/libs/pb/matchmaker";

import "matchmaker/messages.proto";
import "google/protobuf/empty.proto";

message StartQueueRequest {
  GameConfiguration config = 1;
}

message StatusResponse {
  Status status = 1;

  // Details about current queue status.
  optional QueueSearching queue = 2;

  // Details about the match the user is currently playing in.
  optional MatchFound match = 3;
}

service Frontend {
  // GetStatus returns the current matchmaking status.
  rpc GetStatus(google.protobuf.Empty) returns (StatusResponse);

  // StartQueue starts searching for a match with the given parameters.
  rpc StartQueue(StartQueueRequest) returns (google.protobuf.Empty);

  // StopQueue stops searching for a match. Idempotent.
  rpc StopQueue(google.protobuf.Empty) returns (google.protobuf.Empty);
}